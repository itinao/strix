<!DOCTYPE HTML>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="content-language" content="ja">
    <title>Strix | statistics</title>
    <link rel="stylesheet" href="../build/css/statistics.min.css" />
    <script type="text/javascript" src="../js/lib/request.js"></script>
    <script type="text/javascript" src="../js/vendor/vue.min.js"></script>
    <script type="text/javascript" src="../js/vendor/d3.min.js"></script>
</head>
<body id="statistics">
    <header class="common-page">
        <div class="page-logo">S</div>
        <div class="page-title">Strix</div>
    </header>
    <article class="navigate">
        <a href="../top.html">Home</a>
        <a href="../site.html">Site</a>
        <a href="../statistics.html">Statistics</a>
        <a href="../settings.html">Settings</a>
    </article>
    <article class="contents">
        <h2 class="contents-title">INFO</h2>

        <div class="analytics">
            <dl>
                <dt>サイト名</dt>
                <dd>{{ info.site_name }}</dd>
            </dl>
            <dl>
                <dt>URL</dt>
                <dd>{{ info.url }}</dd>
            </dl>
            <dl>
                <dt>計測期間</dt>
                <dd>{{ info.start_date }} ~ {{ info.end_date }}</dd>
            </dl>
        </div>

        <div class="profile">
            <div class="text">
                {{ profile.description }}
            </div>
            <div class="image">
                <img v-attr="src: profile.screenshot">
            </div>
        </div>

        <h2 class="contents-title">GRAPH</h2>
        <div class="graph">
            <div class="select">
                <div v-on="click: graphButton('TODAY', $event)">TODAY</div>
                <div v-on="click: graphButton('YESTERDAY', $event)">YESTERDAY</div>
                <div v-on="click: graphButton('WEEK', $event)">WEEK</div>
                <div v-on="click: graphButton('MONTH', $event)">MONTH</div>
                <div v-on="click: graphButton('YEAR', $event)">YEAR</div>
            </div>
            <div class="draw_area"></div>
        </div>

        <h2 class="contents-title">HISTORY</h2>
        <div class="history">
            <ul>
                <li v-repeat="historys">
                    {{ date }}
                    <div class="small-button" v-on="click: detailButton(id, $event)">Detail</div>
                </li>
            </ul>
        </div>
    </article>

    <div id="detail-dialog" class="detail-dialog" v-on="click: dialogClick($event)">
        <iframe sandbox="allow-same-origin allow-scripts" v-attr="src: har_url"></iframe>
    </div>

    <div id="loading" class="loading">
        <svg class="spinner" width="65px" height="65px" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">
            <circle class="spinner-path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle>
        </svg>
    </div>

    <script type="text/javascript" src="../js/statistics.js"></script>
</body>
</html>
